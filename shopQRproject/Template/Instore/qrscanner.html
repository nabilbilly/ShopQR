<!DOCTYPE html>
<html>
{% load static %}
<head>
    <title>QR Code Scanner</title>
    <script src="https://cdn.jsdelivr.net/npm/instascan@1.0.0/instascan.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  
</head>

<body>
    <div class="flex-container">
        <!-- Main container for the content -->
        <div class="flex flex-col items-center justify-center lg:flex-row w-full max-w-7xl">
            {% comment %} Left section {% endcomment %}
            <div class="hidden md:flex items-center justify-center w-full md:w-1/2 bg-white rounded-l-lg shadow-lg">
                <img src="{% static 'src/images/gif.gif' %}" alt="Product" class="rounded-lg object-cover h-full w-full">
            </div>

            {% comment %} Right section {% endcomment %}
            <div class="w-full md:w-1/2 pl-8 bg-white bg-opacity-50 backdrop-filter backdrop-blur-lg rounded-r-xl p-8">
                <h1 class="text-center text-3xl font-semibold mb-4">Scan QR Codes</h1>
                
                <!-- QR Reader -->
                <div id="qr-reader" class="mb-6"></div>
                
                <!-- Navigation Tabs -->
                <div class="w-full mt-6">
                    <div class="relative">
                        <ul class="relative flex flex-col md:flex-row lg:flex-wrap px-1.5 py-1.5 list-none rounded-md bg-slate-100">
                            <li class="flex-auto text-center mb-2 md:mb-0">
                                <a href="{% url 'view_cart' %}" class="flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition ease-in-out border-0 rounded-md cursor-pointer text-slate-600 hover:bg-red-500 hover:text-white">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-4 h-4 mr-1.5 text-slate-500">
                                        <path d="M11.644 1.59a.75.75 0 01.712 0l9.75 5.25a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.712 0l-9.75-5.25a.75.75 0 010-1.32l9.75-5.25z"></path>
                                        <path d="M3.265 10.602l7.668 4.129a2.25 2.25 0 002.134 0l7.668-4.13 1.37.739a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.71 0l-9.75-5.25a.75.75 0 010-1.32l1.37-.738z"></path>
                                        <path d="M10.933 19.231l-7.668-4.13-1.37.739a.75.75 0 000 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 000-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 01-2.134-.001z"></path>
                                    </svg>
                                    <span>View Cart</span>
                                </a>
                            </li>

                            <li class="flex-auto text-center mb-2 md:mb-0">
                                <a href="{% url 'cart_items_history' %}" class="flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition ease-in-out border-0 rounded-md cursor-pointer text-slate-600 hover:bg-red-500 hover:text-white">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-4 h-4 mr-1.5 text-slate-500">
                                        <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span>History</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>


   
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="script.js"></script>

    <script>
        function onScanSuccess(decodedText, decodedResult) {
            // Redirect to the URL obtained from the QR code
            window.location.href = decodedText; // Assuming decodedText contains the URL
        }
        
        function onScanFailure(error) {
            console.warn(`Code scan error = ${error}`);
        }
        
        let html5QrcodeScanner = new Html5QrcodeScanner(
            "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess, onScanFailure);
    </script>
</body>
</html>
